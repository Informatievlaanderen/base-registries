(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["status"],{"01f1":function(t,e,r){"use strict";r("8a3d")},"13d5":function(t,e,r){"use strict";var s=r("23e7"),i=r("d58f").left,n=r("a640"),a=r("ae40"),o=r("2d00"),c=r("605d"),l=n("reduce"),u=a("reduce",{1:0}),d=!c&&o>79&&o<83;s({target:"Array",proto:!0,forced:!l||!u||d},{reduce:function(t){return i(this,t,arguments.length,arguments.length>1?arguments[1]:void 0)}})},34616:function(t,e,r){"use strict";r("f1d4")},"5e89":function(t,e,r){var s=r("861d"),i=Math.floor;t.exports=function(t){return!s(t)&&isFinite(t)&&i(t)===t}},"61a9":function(t,e,r){},"70f4":function(t,e,r){},"70f5":function(t,e,r){"use strict";r("a29a")},"77cc":function(t,e,r){"use strict";r("61a9")},"7e12":function(t,e,r){var s=r("da84"),i=r("58a8").trim,n=r("5899"),a=s.parseFloat,o=1/a(n+"-0")!==-1/0;t.exports=o?function(t){var e=i(String(t)),r=a(e);return 0===r&&"-"==e.charAt(0)?-0:r}:a},8748:function(t,e,r){},"8a3d":function(t,e,r){},"8ba4":function(t,e,r){var s=r("23e7"),i=r("5e89");s({target:"Number",stat:!0},{isInteger:i})},"902b":function(t,e,r){},"98c0":function(t,e,r){"use strict";r.r(e);var s=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("vl-page",[r("vl-region",{attrs:{"mod-no-space-bottom":""}},[r("vl-layout",[r("header",{staticClass:"wp-pt-heading"},[r("div",{staticClass:"wp-pt-heading__title-wrapper"},[r("vl-title",{staticClass:"wp-pt-heading__title",attrs:{"tag-name":"h1"}},[t._v("Status")])],1),r("vl-grid",[r("vl-column",{attrs:{width:"9","width-s":"12"}},[r("div",{staticClass:"wp-pt-heading__content"},[r("vl-typography",[r("vl-introduction",[t._v(" Wat is de "),r("strong",[t._v("huidige")]),t._v(" status van de basisregisters? Bekijk hier het live overzicht! ")])],1)],1)])],1)],1)])],1),r("vl-main",[r("vl-region",[r("vl-layout",[r("vl-grid",{attrs:{"mod-stacked":""}},[r("vl-column",{attrs:{width:"12"}},[r("vl-grid",{attrs:{"mod-stacked":""}},[r("vl-column",{attrs:{width:"12","width-m":"6","width-s":"12"}},[r("registry-status",{attrs:{title:"Gemeenten","registery-id":"municipality",status:t.municipalityRegistry},on:{refresh:t.fetch}})],1),r("vl-column",{attrs:{width:"12","width-m":"6","width-s":"12"}},[r("registry-status",{attrs:{title:"Postinfo","registery-id":"postal",status:t.postalRegistry},on:{refresh:t.fetch}})],1),r("vl-column",{attrs:{width:"12","width-m":"6","width-s":"12"}},[r("registry-status",{attrs:{title:"Straatnamen","registery-id":"streetname",status:t.streetNameRegistry},on:{refresh:t.fetch}})],1),r("vl-column",{attrs:{width:"12","width-m":"6","width-s":"12"}},[r("registry-status",{attrs:{title:"Adressen","registery-id":"address",status:t.addressRegistry},on:{refresh:t.fetch}})],1),r("vl-column",{attrs:{width:"12","width-m":"6","width-s":"12"}},[r("registry-status",{attrs:{title:"Gebouwen & gebouweenheden","registery-id":"building",status:t.buildingRegistry},on:{refresh:t.fetch}})],1),r("vl-column",{attrs:{width:"12","width-m":"6","width-s":"12"}},[r("registry-status",{attrs:{title:"Percelen","registery-id":"parcel",status:t.parcelRegistry},on:{refresh:t.fetch}})],1)],1)],1)],1)],1)],1)],1)],1)},i=[],n=(r("4de4"),r("a9e3"),r("8ba4"),r("ac1f"),r("5319"),r("a4d3"),r("e01a"),r("d28b"),r("d3b7"),r("3ca3"),r("ddb0"),r("06c5"));function a(t,e){var r;if("undefined"===typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(r=Object(n["a"])(t))||e&&t&&"number"===typeof t.length){r&&(t=r);var s=0,i=function(){};return{s:i,n:function(){return s>=t.length?{done:!0}:{done:!1,value:t[s++]}},e:function(t){throw t},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,o=!0,c=!1;return{s:function(){r=t[Symbol.iterator]()},n:function(){var t=r.next();return o=t.done,t},e:function(t){c=!0,a=t},f:function(){try{o||null==r["return"]||r["return"]()}finally{if(c)throw a}}}}function o(t){return o="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},o(t)}var c=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"registry-status",attrs:{id:t.registeryId}},[r("h3",{staticClass:"vl-registry-status-item__title",attrs:{itemprop:"name"}},[t._v(t._s(t.title))]),t.status.hide.includes("import")?t._e():r("import-status",{attrs:{"registery-id":t.registeryId,status:t.status.import,"is-loading":t.status.isLoading.includes("import")},on:{refresh:function(e){return t.refresh(["import"])}}}),t.status.hide.includes("projections")?t._e():r("projection-status",{attrs:{"registery-id":t.registeryId,status:t.status.projections,"is-loading":t.status.isLoading.includes("projections")},on:{refresh:function(e){return t.refresh(["projections"])}}}),t.status.hide.includes("feed")?t._e():r("feed-projection-status",{attrs:{"registery-id":t.registeryId,status:t.status.projections,"is-loading":t.status.isLoading.includes("projections")},on:{refresh:function(e){return t.refresh(["projections"])}}}),t.status.hide.includes("syndication")?t._e():r("syndication-status",{attrs:{"registery-id":t.registeryId,status:t.status.syndication,"stream-positions":t.status.streamPositions,"is-loading":t.status.isLoading.includes("syndication")},on:{refresh:function(e){return t.refresh(["projections","syndication"])}}}),t.status.hide.includes("cache")||"building"===t.registeryId?t._e():r("cache-status",{attrs:{"registery-id":t.registeryId,status:t.status.cache,"is-loading":t.status.isLoading.includes("cache")},on:{refresh:function(e){return t.refresh(["cache"])}}})],1)},l=[],u=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("status-category",{attrs:{title:"Projecties","category-id":t.categoryId,"alert-level":t.alertLevel,"show-refresh":!t.isLoading},on:{refreshCategory:t.refresh}},[t.noData?r("vl-column",{attrs:{width:"12"}},[t.isLoading?r("div",{directives:[{name:"vl-align",rawName:"v-vl-align:center",arg:"center"}]},[r("vl-loader",{attrs:{message:"De status van de projecties wordt opgevraagd. "}})],1):r("vl-alert",{attrs:{title:"Projecties status ophalen is mislukt",content:"Er is iets fout gelopen tijdens het ophalen van de status van de projecties. Probeer het later opnieuw.","mod-error":""}})],1):t._e(),t._l(t.projections,(function(e){return r("status-item",{key:e.key,attrs:{"item-id":t.createItemId(e.key),"alert-level":e.alertLevel}},[r("div",{staticClass:"projection"},[r("div",{class:"state tooltip-on-hover "+e.state},[r("tooltip",{attrs:{text:t.stateTooltipDescriptionFor(e.state)}})],1)]),r("div",{class:"tooltip-on-hover description"},[r("tooltip",{attrs:{text:e.description}}),t._v(" "+t._s(t.formatName(e.name,e.key))+" ")],1),r("div",{staticClass:"progress --right"},[t._v(t._s(e.progress.isBehind?t.formatProgress(e.progress):"100%"))])])}))],2)},d=[],p=(r("99af"),r("d81d"),r("b0c0"),r("c35a"),r("b680"),r("1276"),function(){var t=this,e=t.$createElement,r=t._self._c||e;return t.hasContent?r("span",{staticClass:"tooltip"},[t._v(" "+t._s(t.text)+" ")]):t._e()}),f=[],h={name:"Tooltip",components:{},props:{text:{type:String,required:!1,default:null}},data:function(){return{hasContent:this.text}}},g=h,v=(r("f1e4"),r("2877")),m=Object(v["a"])(g,p,f,!1,null,null,null),y=m.exports,_=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"vl-status__category",attrs:{id:t.categoryId}},[r("div",{class:"vl-status__title vl-alert vl-alert--"+t.alertLevel},[r("div",[t._v(t._s(t.title))]),"none"!=t.alertLevel?r("div",{staticClass:"vl-alert__icon"},[r("span",{class:"vl-icon vl-vi vl-vi-"+t.alertLevel,attrs:{"aria-hidden":"true"}})]):t._e(),t.showRefresh?r("div",{staticClass:"vl-status__category-refresh --right",on:{click:t.refreshCategory}}):t._e()]),t._t("default")],2)},w=[],b={name:"StatusCategory",components:{},props:{categoryId:{type:String,required:!0},alertLevel:{type:String,required:!0},title:{type:String,required:!0},showRefresh:{type:Boolean,required:!1,default:!1}},methods:{refreshCategory:function(){this.$emit("refreshCategory")}}},L=b,j=(r("77cc"),Object(v["a"])(L,_,w,!1,null,null,null)),I=j.exports,S=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{class:"vl-status__item vl-alert vl-alert--"+t.alertLevel,attrs:{id:t.itemId}},[t._t("default"),r("div",{staticClass:"vl-alert__icon"},[r("span",{class:"vl-icon vl-vi vl-vi-"+t.alertLevel,attrs:{"aria-hidden":"true"}})])],2)},C=[],P={name:"StatusItem",components:{},props:{itemId:{type:String,required:!0},alertLevel:{type:String,required:!0}}},k=P,D=(r("f151"),Object(v["a"])(k,S,C,!1,null,null,null)),N=D.exports,F=(r("caad"),r("13d5"),r("fb6a"),r("9129"),r("2532"),{crashed:"error",stopped:"stopped",catchingup:"active",subscribed:"active"}),q=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:-1,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:-1;return{position:t,relativePosition:t-e,percentage:e<0?100:(t+1)/(e+1)*100,streamPosition:e,isBehind:t<e}},R=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return"error"===t?"error":"stopped"===t?"warning":"active"===t?e.relativePosition<-50?"warning":"success":"unknown"},x=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:-1,r=t.key,s=t.name,i=t.currentPosition,n=void 0===i?-1:i,a=t.state,o=void 0===a?"unknown":a,c=t.description,l=void 0===c?"":c,u=q(n,e),d=F[o.toLowerCase()]||"unknown";return{key:r,name:s,description:l,alertLevel:R(d,u),state:d,progress:u}},E=function(t,e){return t?"active"===e&&t<new Date(Date.now()-36e4)?"warning":"active"===e&&t<new Date(Date.now()-36e5)?"error":"success":"error"},$=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t||{},r=e.currentImport,s=e.lastCompletedImport,i=r?"active":"stopped";return{name:t.name,state:i,lastCompleted:s?new Date(s.until):null,from:"active"===i?new Date(r.from):null,to:"active"===i?new Date(r.until):null,alertLevel:E(s,i)}},O=function(t){return 0===t?"success":t?"warning":"error"},B=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.name,r=void 0===e?"":e,s=t.numberOfRecordsToProcess,i=void 0===s?null:s;return{name:r,numberOfRecordsToProcess:i,alertLevel:O(i),debug:t}},T=function(t){var e=t||{},r=e.relativePosition;return isNaN(r)?"unknown":r<-50?"warning":"success"},A=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(){return-1},r=t.name,s=t.currentPosition,i=void 0===s?-1:s,n=e(r),a=Number.isNaN(n)?null:q(i,n);return{name:r,alertLevel:T(a),progress:a}},z=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return t.reduce((function(t,e){var r=e.alertLevel,s=void 0===r?"unknown":r;return[t,s].includes("error")?"error":[t,s].includes("warning")?"warning":[t,s].includes("success")?"success":"unknown"}),"unknown")},G=function(t){var e=t||"";return e.length<=1?e.toUpperCase():e[0].toUpperCase()+e.slice(1)},H=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";if(e&&t!==e)return t;var r=t.split("."),s=r.pop();r.pop();var i=r.pop();return"".concat(i," - ").concat(s).replace(/Projections/gi,"").replace(/^ - /,"")},J=function(t,e){var r=H(t.name,t.key),s=H(e.name,e.key),i=r.split("-").length>1,n=s.split("-").length>1;return i==n?r.localeCompare(s):i?1:-1},U={name:"ProjectionStatus",components:{StatusItem:N,StatusCategory:I,Tooltip:y},props:{registeryId:{type:String,required:!0},status:{type:Object,required:!1,default:null},isLoading:{type:Boolean,required:!1,default:!1}},computed:{categoryId:function(){return"".concat(this.registeryId,"_projections").toLocaleLowerCase()},noData:function(){return 0===this.filteredProjections.length},alertLevel:function(){return this.noData?"none":z(this.projections)},filteredProjections:function(){return this.status&&this.status.projections&&Number.isInteger(this.status.projections.length)?this.status.projections.filter((function(t){return!/feed/i.test(t.name)})):[]},projections:function(){var t=this;return this.filteredProjections.map((function(e){return x(e,t.status.streamPosition)})).sort(J)}},methods:{formatName:H,formatProgress:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return t.percentage>95?"".concat(t.position.toLocaleString("nl-BE"),"/").concat(t.streamPosition.toLocaleString("nl-BE")):"".concat(Number.parseFloat(t.percentage).toFixed(2),"%")},refresh:function(){this.$emit("refresh")},stateTooltipDescriptionFor:function(t){return"active"===t?"Actief":"stopped"===t?"Gepauzeerd":"error"===t?"Fout":""},createItemId:function(t){return"".concat(this.categoryId,"_").concat(t).replace(/\./g,"-").toLocaleLowerCase()}}},W=U,M=(r("70f5"),Object(v["a"])(W,u,d,!1,null,"00454512",null)),V=M.exports,K=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("status-category",{attrs:{title:"Feed","category-id":t.categoryId,"alert-level":t.alertLevel,"show-refresh":!t.isLoading},on:{refreshCategory:t.refresh}},[t.noData?r("vl-column",{attrs:{width:"12"}},[t.isLoading?r("div",{directives:[{name:"vl-align",rawName:"v-vl-align:center",arg:"center"}]},[r("vl-loader",{attrs:{message:"De status van de feed wordt opgevraagd. "}})],1):r("vl-alert",{attrs:{title:"Feed status ophalen is mislukt",content:"Er is iets fout gelopen tijdens het ophalen van de status van de feed. Probeer het later opnieuw.","mod-error":""}})],1):t._e(),t._l(t.feedProjections,(function(e){return r("status-item",{key:e.key,attrs:{"item-id":t.createItemId(e.key),"alert-level":e.alertLevel}},[r("div",{staticClass:"feedprojection"},[r("div",{class:"state tooltip-on-hover "+e.state},[r("tooltip",{attrs:{text:t.stateTooltipDescriptionFor(e.state)}})],1)]),r("div",{class:"tooltip-on-hover description"},[r("tooltip",{attrs:{text:e.description}}),t._v(" "+t._s(t.formatName(e.name,e.key))+" ")],1),r("div",{staticClass:"progress --right"},[t._v(t._s(e.progress.isBehind?t.formatProgress(e.progress):"100%"))])])}))],2)},Q=[],X=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";if(e&&t!==e)return t;var r=t.split("."),s=r.pop();r.pop();var i=r.pop();return"".concat(i," - ").concat(s).replace(/Projections/gi,"").replace(/^ - /,"")},Y=function(t,e){var r=X(t.name,t.key),s=X(e.name,e.key),i=r.split("-").length>1,n=s.split("-").length>1;return i==n?r.localeCompare(s):i?1:-1},Z={name:"FeedProjectionStatus",components:{StatusItem:N,StatusCategory:I,Tooltip:y},props:{registeryId:{type:String,required:!0},status:{type:Object,required:!1,default:null},isLoading:{type:Boolean,required:!1,default:!1}},computed:{categoryId:function(){return"".concat(this.registeryId,"_feed").toLocaleLowerCase()},noData:function(){return 0===this.filteredProjections.length},alertLevel:function(){return this.noData?"none":z(this.feedProjections)},filteredProjections:function(){return this.status&&this.status.projections&&Number.isInteger(this.status.projections.length)?this.status.projections.filter((function(t){return/feed/i.test(t.name)})):[]},feedProjections:function(){var t=this;return this.filteredProjections.map((function(e){return x(e,t.status.streamPosition)})).sort(Y)}},methods:{formatName:X,formatProgress:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return t.percentage>95?"".concat(t.position.toLocaleString("nl-BE"),"/").concat(t.streamPosition.toLocaleString("nl-BE")):"".concat(Number.parseFloat(t.percentage).toFixed(2),"%")},refresh:function(){this.$emit("refresh")},stateTooltipDescriptionFor:function(t){return"active"===t?"Actief":"stopped"===t?"Gepauzeerd":"error"===t?"Fout":""},createItemId:function(t){return"".concat(this.categoryId,"_").concat(t).replace(/\./g,"-").toLocaleLowerCase()}}},tt=Z,et=(r("34616"),Object(v["a"])(tt,K,Q,!1,null,"35f14bda",null)),rt=et.exports,st=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("status-category",{attrs:{title:"Cache","category-id":t.categoryId,"alert-level":t.alertLevel,"show-refresh":!t.isLoading},on:{refreshCategory:t.refresh}},[t.noData?r("vl-column",{attrs:{width:"12"}},[t.isLoading?r("div",{directives:[{name:"vl-align",rawName:"v-vl-align:center",arg:"center"}]},[r("vl-loader",{attrs:{message:"De status van de cache wordt opgevraagd."}})],1):r("vl-alert",{attrs:{title:"Cache status ophalen is mislukt",content:"Er is iets fout gelopen tijdens het ophalen van de status van de cache. Probeer het later opnieuw.","mod-error":""}})],1):t._e(),t._l(t.caches,(function(e){return r("status-item",{key:e.name,staticClass:"cache",attrs:{"item-id":t.createItemId(e.name),"alert-level":e.alertLevel}},[r("div",{staticClass:"name state"},[t._v(t._s(e.name))]),e.numberOfRecordsToProcess>0?r("div",{staticClass:"--right"},[t._v("Aantal niet gecachte objecten: "+t._s(e.numberOfRecordsToProcess))]):t._e()])}))],2)},it=[],nt={name:"CacheStatus",components:{StatusCategory:I,StatusItem:N},props:{registeryId:{type:String,required:!0},status:{type:Array,required:!1,default:null},isLoading:{type:Boolean,required:!1,default:!1}},computed:{categoryId:function(){return"".concat(this.registeryId,"_cache").toLocaleLowerCase()},noData:function(){return!this.status||0==this.status.length},alertLevel:function(){return this.noData?"none":z(this.caches)},caches:function(){return(this.status||[]).map(B)}},methods:{refresh:function(){this.$emit("refresh")},createItemId:function(t){return"".concat(this.categoryId,"_").concat(t).replace(/\./g,"-").toLocaleLowerCase()}}},at=nt,ot=Object(v["a"])(at,st,it,!1,null,null,null),ct=ot.exports,lt=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("status-category",{attrs:{title:"Import","category-id":t.categoryId,"alert-level":t.alertLevel,"show-refresh":!t.isLoading},on:{refreshCategory:t.refresh}},[t.noData?r("vl-column",{attrs:{width:"12"}},[t.isLoading?r("div",{directives:[{name:"vl-align",rawName:"v-vl-align:center",arg:"center"}]},[r("vl-loader",{attrs:{message:"De status van de import wordt opgevraagd."}})],1):r("vl-alert",{attrs:{title:"Import status ophalen is mislukt",content:"Er is iets fout gelopen tijdens het ophalen van de status van de import. Probeer het later opnieuw.","mod-error":""}})],1):t._e(),t._l(t.imports,(function(e){return r("status-item",{key:e.name,staticClass:"import",attrs:{"item-id":t.createItemId(e.name),"alert-level":e.alertLevel}},[r("div",{class:"name state tooltip-on-hover "+e.state},[r("tooltip",{attrs:{text:t.stateTooltipDescriptionFor(e.state)}}),t._v(" "+t._s(t.formatName(e.name))+" ")],1),"active"==e.state?r("div",{staticClass:"period --right"},[t._v(" Wijzigingen van "+t._s(t.formatDate(e.from))+" tot "+t._s(t.formatDate(e.to))+" zijn nu aan het importeren. ")]):r("div",{staticClass:"period --right"},[t._v(" Laatste wijziging: "+t._s(t.formatDate(e.lastCompleted))+" ")])])}))],2)},ut=[],dt={name:"ImportStatus",components:{StatusCategory:I,StatusItem:N,Tooltip:y},props:{registeryId:{type:String,required:!0},status:{type:Array,required:!1,default:null},isLoading:{type:Boolean,required:!1,default:!1}},computed:{categoryId:function(){return"".concat(this.registeryId,"_import").toLocaleLowerCase()},noData:function(){return!this.status||0==this.status.length},alertLevel:function(){return this.noData?"none":z(this.imports)},imports:function(){return(this.status||[]).map($)}},methods:{formatName:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",e=G(t.replace(/^.+\.importer\.?/i,""));return e.length>0?"CRAB import - ".concat(e):"CRAB import"},formatDate:function(t){var e={year:"2-digit",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit"};return t?t.toLocaleString("nl-BE",e):"__/ __/ __ --:--:--"},refresh:function(){this.$emit("refresh")},stateTooltipDescriptionFor:function(t){return"active"===t?"Actief":"stopped"===t?"Gepland":""},createItemId:function(t){return"".concat(this.categoryId,"_").concat(t).replace(/\./g,"-").toLocaleLowerCase()}}},pt=dt,ft=(r("c687"),Object(v["a"])(pt,lt,ut,!1,null,null,null)),ht=ft.exports,gt=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("status-category",{attrs:{title:"Register synchronisatie","category-id":t.categoryId,"alert-level":t.alertLevel,"show-refresh":!t.isLoading},on:{refreshCategory:t.refresh}},[t.noData?r("vl-column",{attrs:{width:"12"}},[t.isLoading?r("div",{directives:[{name:"vl-align",rawName:"v-vl-align:center",arg:"center"}]},[r("vl-loader",{attrs:{message:"De status van de register synchronisatie wordt opgevraagd. "}})],1):r("vl-alert",{attrs:{title:"Register synchronisatie status ophalen is mislukt",content:"Er is iets fout gelopen tijdens het ophalen van de status van de register synchronisatie. Probeer het later opnieuw.","mod-error":""}})],1):t._e(),t._l(t.syndications,(function(e){return r("status-item",{key:e.name,staticClass:"syndication",attrs:{"item-id":t.createItemId(e.name),"alert-level":e.alertLevel}},[r("div",{staticClass:"name"},[t._v(t._s(t.formatName(e.name)))]),e.progress?r("div",{staticClass:"progress --right"},[t._v(" "+t._s(t.isStillProcessing(e.progress)?t.formatProgress(e.progress):"100%")+" ")]):r("div",{staticClass:"progress vl-alert vl-alert--error --right "},[t._v("Er is iets fout gelopen tijdens het ophalen van de synchronisatie-bron status.")])])}))],2)},vt=[],mt=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return G(t)},yt=function(t,e){var r=mt(t.name),s=mt(e.name);return r.localeCompare(s)},_t={name:"SyndicationStatus",components:{StatusItem:N,StatusCategory:I},props:{registeryId:{type:String,required:!0},status:{type:Object,required:!1,default:null},streamPositions:{type:Object,required:!1,default:null},isLoading:{type:Boolean,required:!1,default:!1}},computed:{categoryId:function(){return"".concat(this.registeryId,"_syndication").toLocaleLowerCase()},noData:function(){return!this.status||!this.status.syndications||0==this.status.syndications.length},alertLevel:function(){return this.noData?"none":z(this.syndications)},syndications:function(){var t=this;return this.noData?[]:this.status.syndications.map((function(e){return A(e,t.getStreamPositionFor)})).sort(yt)}},methods:{formatName:mt,formatProgress:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return t.percentage>95?"".concat(t.position.toLocaleString("nl-BE"),"/").concat(t.streamPosition.toLocaleString("nl-BE")):"".concat(Number.parseFloat(t.percentage).toFixed(2),"%")},refresh:function(){this.$emit("refresh")},stateTooltipDescriptionFor:function(t){return"active"===t?"Actief":"stopped"===t?"Gepauzeerd":"error"===t?"Fout":""},getStreamPositionFor:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";if(!this.streamPositions)return NaN;var e=t.replace(/addresslink$/i,"").replace(/buildingunit/i,"building").replace(/postalinfo/i,"postal");return this.streamPositions[e+"Registry"]||NaN},isStillProcessing:function(t){return t&&t.isBehind&&t.relativePosition<-1},createItemId:function(t){return"".concat(this.categoryId,"_").concat(t).replace(/\./g,"-").toLocaleLowerCase()}}},wt=_t,bt=(r("01f1"),Object(v["a"])(wt,gt,vt,!1,null,null,null)),Lt=bt.exports,jt={name:"RegistryStatus",components:{ProjectionStatus:V,FeedProjectionStatus:rt,CacheStatus:ct,ImportStatus:ht,SyndicationStatus:Lt},props:{registeryId:{type:String,required:!0},title:{type:String,required:!0},status:{type:Object,required:!0}},methods:{refresh:function(t){this.$emit("refresh",t||[])}}},It=jt,St=(r("e31b"),Object(v["a"])(It,c,l,!1,null,null,null)),Ct=St.exports,Pt=r("bc3a"),kt=r.n(Pt),Dt={name:"StatusOverview",components:{RegistryStatus:Ct},data:function(){return{addressRegistry:{hide:[],isLoading:[],streamPositions:{}},buildingRegistry:{hide:[],isLoading:[],streamPositions:{}},municipalityRegistry:{hide:["syndication"],isLoading:[],streamPositions:{}},parcelRegistry:{hide:[],isLoading:[],streamPositions:{}},postalRegistry:{hide:["import"],isLoading:[],streamPositions:{}},streetNameRegistry:{hide:[],isLoading:[],streamPositions:{}}}},mounted:function(){this.fetch(["projections","cache","import","syndication"]),this.scrollToHash()},methods:{setStreamPositions:function(){var t={};for(var e in this){var r=this[e]||{};if("object"===o(r)&&"projections"in r){var s=r.projections||{},i=s.streamPosition;Number.isInteger(i)&&(t[e]=Number(i))}}for(var n in this){var a=this[n]||{};"object"===o(a)&&"streamPositions"in a&&(a.streamPositions=t)}},setStatusFor:function(t,e){for(var r in e){var s=e[r];this[r][t]?this[r][t]=s:this.$set(this[r],t,s)}"projections"===t&&this.setStreamPositions()},beginLoading:function(t){for(var e in this){var r=this[e]||{};"object"===o(r)&&"isLoading"in r&&(r.isLoading.push(t),r[t]&&(r[t]=null))}},loadingStopped:function(t){for(var e in this){var r=this[e]||{};"object"===o(r)&&"isLoading"in r&&(r.isLoading=r.isLoading.filter((function(e){return e!==t})))}},fetchStatus:function(t,e){var r=this,s=(window.baseRegistriesApi||"[baseregistries-api-url-not-set]").replace(/\/$/,"")+e;this.beginLoading(t),kt.a.get(s).then((function(e){var s=e.data;r.setStatusFor(t,s),r.loadingStopped(t)})).catch((function(e){console.log("Could not fetch status data from ".concat(s,"."),e),r.loadingStopped(t)}))},fetch:function(){var t,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],r={projections:"/v1/status/projection",import:"/v1/status/import",cache:"/v1/status/cache",syndication:"/v1/status/syndication"},s=a(e);try{for(s.s();!(t=s.n()).done;){var i=t.value;r[i]&&this.fetchStatus(i,r[i])}}catch(n){s.e(n)}finally{s.f()}},scrollToHash:function(){var t=this;this.$nextTick((function(){if(t.$route.hash){var e=document.querySelector(t.$route.hash);e&&e.scrollIntoView()}}))}}},Nt=Dt,Ft=Object(v["a"])(Nt,s,i,!1,null,null,null);e["default"]=Ft.exports},a29a:function(t,e,r){},c35a:function(t,e,r){var s=r("23e7"),i=r("7e12");s({target:"Number",stat:!0,forced:Number.parseFloat!=i},{parseFloat:i})},c687:function(t,e,r){"use strict";r("902b")},d58f:function(t,e,r){var s=r("1c0b"),i=r("7b0b"),n=r("44ad"),a=r("50c4"),o=function(t){return function(e,r,o,c){s(r);var l=i(e),u=n(l),d=a(l.length),p=t?d-1:0,f=t?-1:1;if(o<2)while(1){if(p in u){c=u[p],p+=f;break}if(p+=f,t?p<0:d<=p)throw TypeError("Reduce of empty array with no initial value")}for(;t?p>=0:d>p;p+=f)p in u&&(c=r(c,u[p],p,l));return c}};t.exports={left:o(!1),right:o(!0)}},e31b:function(t,e,r){"use strict";r("f61f")},f151:function(t,e,r){"use strict";r("70f4")},f1d4:function(t,e,r){},f1e4:function(t,e,r){"use strict";r("8748")},f61f:function(t,e,r){}}]);
//# sourceMappingURL=status-legacy.ea05ff19.js.map