(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["status"],{"01f1":function(t,e,s){"use strict";s("8a3d")},"13d5":function(t,e,s){"use strict";var r=s("23e7"),i=s("d58f").left,n=s("a640"),a=s("ae40"),o=s("2d00"),l=s("605d"),c=n("reduce"),u=a("reduce",{1:0}),d=!l&&o>79&&o<83;r({target:"Array",proto:!0,forced:!c||!u||d},{reduce:function(t){return i(this,t,arguments.length,arguments.length>1?arguments[1]:void 0)}})},"2d00":function(t,e,s){var r,i,n=s("da84"),a=s("342f"),o=n.process,l=o&&o.versions,c=l&&l.v8;c?(r=c.split("."),i=r[0]+r[1]):a&&(r=a.match(/Edge\/(\d+)/),(!r||r[1]>=74)&&(r=a.match(/Chrome\/(\d+)/),r&&(i=r[1]))),t.exports=i&&+i},"342f":function(t,e,s){var r=s("d066");t.exports=r("navigator","userAgent")||""},4734:function(t,e,s){"use strict";s("7ab7")},"54c4":function(t,e,s){"use strict";s("b8db")},"605d":function(t,e,s){var r=s("c6b6"),i=s("da84");t.exports="process"==r(i.process)},"61a9":function(t,e,s){},"70f4":function(t,e,s){},"77cc":function(t,e,s){"use strict";s("61a9")},"7ab7":function(t,e,s){},8748:function(t,e,s){},"8a3d":function(t,e,s){},"902b":function(t,e,s){},"98c0":function(t,e,s){"use strict";s.r(e);var r=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("vl-page",[s("vl-region",{attrs:{"mod-no-space-bottom":""}},[s("vl-layout",[s("header",{staticClass:"wp-pt-heading"},[s("div",{staticClass:"wp-pt-heading__title-wrapper"},[s("vl-title",{staticClass:"wp-pt-heading__title",attrs:{"tag-name":"h1"}},[t._v("Status")])],1),s("vl-grid",[s("vl-column",{attrs:{width:"9","width-s":"12"}},[s("div",{staticClass:"wp-pt-heading__content"},[s("vl-typography",[s("vl-introduction",[t._v(" Wat is de "),s("strong",[t._v("huidige")]),t._v(" status van de basisregisters? Bekijk hier het live overzicht! ")])],1)],1)])],1)],1)])],1),s("vl-main",[s("vl-region",[s("vl-layout",[s("vl-grid",{attrs:{"mod-stacked":""}},[s("vl-column",{attrs:{width:"12"}},[s("vl-grid",{attrs:{"mod-stacked":""}},[s("vl-column",{attrs:{width:"12","width-m":"6","width-s":"12"}},[s("registry-status",{attrs:{title:"Gemeenten","registery-id":"municipality",status:t.municipalityRegistry},on:{refresh:t.fetch}})],1),s("vl-column",{attrs:{width:"12","width-m":"6","width-s":"12"}},[s("registry-status",{attrs:{title:"Postinfo","registery-id":"postal",status:t.postalRegistry},on:{refresh:t.fetch}})],1),s("vl-column",{attrs:{width:"12","width-m":"6","width-s":"12"}},[s("registry-status",{attrs:{title:"Straatnamen","registery-id":"streetname",status:t.streetNameRegistry},on:{refresh:t.fetch}})],1),s("vl-column",{attrs:{width:"12","width-m":"6","width-s":"12"}},[s("registry-status",{attrs:{title:"Adressen","registery-id":"address",status:t.addressRegistry},on:{refresh:t.fetch}})],1),s("vl-column",{attrs:{width:"12","width-m":"6","width-s":"12"}},[s("registry-status",{attrs:{title:"Gebouwen & gebouweenheden","registery-id":"building",status:t.buildingRegistry},on:{refresh:t.fetch}})],1),s("vl-column",{attrs:{width:"12","width-m":"6","width-s":"12"}},[s("registry-status",{attrs:{title:"Percelen","registery-id":"parcel",status:t.parcelRegistry},on:{refresh:t.fetch}})],1)],1)],1)],1)],1)],1)],1)],1)},i=[],n=(s("5319"),s("ddb0"),function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"registry-status",attrs:{id:t.registeryId}},[s("h3",{staticClass:"vl-registry-status-item__title",attrs:{itemprop:"name"}},[t._v(t._s(t.title))]),t.status.hide.includes("import")?t._e():s("import-status",{attrs:{"registery-id":t.registeryId,status:t.status.import,"is-loading":t.status.isLoading.includes("import")},on:{refresh:function(e){return t.refresh(["import"])}}}),t.status.hide.includes("projections")?t._e():s("projection-status",{attrs:{"registery-id":t.registeryId,status:t.status.projections,"is-loading":t.status.isLoading.includes("projections")},on:{refresh:function(e){return t.refresh(["projections"])}}}),t.status.hide.includes("feed")?t._e():s("feed-projection-status",{attrs:{"registery-id":t.registeryId,status:t.status.projections,"is-loading":t.status.isLoading.includes("projections")},on:{refresh:function(e){return t.refresh(["projections"])}}}),t.status.hide.includes("syndication")?t._e():s("syndication-status",{attrs:{"registery-id":t.registeryId,status:t.status.syndication,"stream-positions":t.status.streamPositions,"is-loading":t.status.isLoading.includes("syndication")},on:{refresh:function(e){return t.refresh(["projections","syndication"])}}}),t.status.hide.includes("cache")?t._e():s("cache-status",{attrs:{"registery-id":t.registeryId,status:t.status.cache,"is-loading":t.status.isLoading.includes("cache")},on:{refresh:function(e){return t.refresh(["cache"])}}})],1)}),a=[],o=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("status-category",{attrs:{title:"Projecties","category-id":t.categoryId,"alert-level":t.alertLevel,"show-refresh":!t.isLoading},on:{refreshCategory:t.refresh}},[t.noData?s("vl-column",{attrs:{width:"12"}},[t.isLoading?s("div",{directives:[{name:"vl-align",rawName:"v-vl-align:center",arg:"center"}]},[s("vl-loader",{attrs:{message:"De status van de projecties wordt opgevraagd. "}})],1):s("vl-alert",{attrs:{title:"Projecties status ophalen is mislukt",content:"Er is iets fout gelopen tijdens het ophalen van de status van de projecties. Probeer het later opnieuw.","mod-error":""}})],1):t._e(),t._l(t.projections,(function(e){return s("status-item",{key:e.key,staticClass:"projection",attrs:{"item-id":t.createItemId(e.key),"alert-level":e.alertLevel}},[s("div",{class:"name state tooltip-on-hover "+e.state},[s("tooltip",{attrs:{text:t.stateTooltipDescriptionFor(e.state)}}),t._v(" "+t._s(t.formatName(e.name,e.key))+" ")],1),s("div",{staticClass:"progress --right"},[t._v(t._s(e.progress.isBehind?t.formatProgress(e.progress):"100%"))])])}))],2)},l=[],c=function(){var t=this,e=t.$createElement,s=t._self._c||e;return t.hasContent?s("span",{staticClass:"tooltip"},[t._v(" "+t._s(t.text)+" ")]):t._e()},u=[],d={name:"Tooltip",components:{},props:{text:{type:String,required:!1,default:null}},data:function(){return{hasContent:this.text}}},p=d,h=(s("f1e4"),s("2877")),g=Object(h["a"])(p,c,u,!1,null,null,null),f=g.exports,m=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"vl-status__category",attrs:{id:t.categoryId}},[s("div",{class:"vl-status__title vl-alert vl-alert--"+t.alertLevel},[s("div",[t._v(t._s(t.title))]),"none"!=t.alertLevel?s("div",{staticClass:"vl-alert__icon"},[s("span",{class:"vl-icon vl-vi vl-vi-"+t.alertLevel,attrs:{"aria-hidden":"true"}})]):t._e(),t.showRefresh?s("div",{staticClass:"vl-status__category-refresh --right",on:{click:t.refreshCategory}}):t._e()]),t._t("default")],2)},v=[],y={name:"StatusCategory",components:{},props:{categoryId:{type:String,required:!0},alertLevel:{type:String,required:!0},title:{type:String,required:!0},showRefresh:{type:Boolean,required:!1,default:!1}},methods:{refreshCategory:function(){this.$emit("refreshCategory")}}},_=y,w=(s("77cc"),Object(h["a"])(_,m,v,!1,null,null,null)),L=w.exports,j=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{class:"vl-status__item vl-alert vl-alert--"+t.alertLevel,attrs:{id:t.itemId}},[t._t("default"),s("div",{staticClass:"vl-alert__icon"},[s("span",{class:"vl-icon vl-vi vl-vi-"+t.alertLevel,attrs:{"aria-hidden":"true"}})])],2)},b=[],C={name:"StatusItem",components:{},props:{itemId:{type:String,required:!0},alertLevel:{type:String,required:!0}}},I=C,S=(s("f151"),Object(h["a"])(I,j,b,!1,null,null,null)),P=S.exports;s("13d5");const $={crashed:"error",stopped:"stopped",catchingup:"active",subscribed:"active"},k=(t=-1,e=-1)=>({position:t,relativePosition:t-e,percentage:e<0?100:(t+1)/(e+1)*100,streamPosition:e,isBehind:t<e}),D=(t="",e={})=>"error"===t?"error":"stopped"===t?"warning":"active"===t?e.relativePosition<-50?"warning":"success":"unknown",N=(t={},e=-1)=>{const{key:s,name:r,currentPosition:i=-1,state:n="unknown"}=t;let a=k(i,e);const o=$[n.toLowerCase()]||"unknown";return{key:s,name:r,alertLevel:D(o,a),state:o,progress:a}},R=(t,e)=>t?"active"===e&&t<new Date(Date.now()-36e4)?"warning":"active"===e&&t<new Date(Date.now()-36e5)?"error":"success":"error",q=(t={})=>{const{currentImport:e,lastCompletedImport:s}=t||{},r=e?"active":"stopped";return{name:t.name,state:r,lastCompleted:s?new Date(s.until):null,from:"active"===r?new Date(e.from):null,to:"active"===r?new Date(e.until):null,alertLevel:R(s,r)}},E=t=>0===t?"success":t?"warning":"error",x=(t={})=>{const{name:e="",numberOfRecordsToProcess:s=null}=t;return{name:e,numberOfRecordsToProcess:s,alertLevel:E(s),debug:t}},F=t=>{const{relativePosition:e}=t||{};return isNaN(e)?"unknown":e<-50?"warning":"success"},O=(t={},e=(()=>-1))=>{const{name:s,currentPosition:r=-1}=t,i=e(s);let n=Number.isNaN(i)?null:k(r,i);return{name:s,alertLevel:F(n),progress:n}},B=(t=[])=>t.reduce((t,{alertLevel:e="unknown"})=>[t,e].includes("error")?"error":[t,e].includes("warning")?"warning":[t,e].includes("success")?"success":"unknown","unknown"),T=t=>{const e=t||"";return e.length<=1?e.toUpperCase():e[0].toUpperCase()+e.slice(1)},A=(t="",e="")=>{if(e&&t!==e)return t;const s=t.split("."),r=s.pop();s.pop();const i=s.pop();return`${i} - ${r}`.replace(/Projections/gi,"").replace(/^ - /,"")},z=(t,e)=>{const s=A(t.name,t.key),r=A(e.name,e.key),i=s.split("-").length>1,n=r.split("-").length>1;return i==n?s.localeCompare(r):i?1:-1};var G={name:"ProjectionStatus",components:{StatusItem:P,StatusCategory:L,Tooltip:f},props:{registeryId:{type:String,required:!0},status:{type:Object,required:!1,default:null},isLoading:{type:Boolean,required:!1,default:!1}},computed:{categoryId:function(){return(this.registeryId+"_projections").toLocaleLowerCase()},noData:function(){return 0===this.filteredProjections.length},alertLevel:function(){return this.noData?"none":B(this.projections)},filteredProjections:function(){return this.status&&this.status.projections&&Number.isInteger(this.status.projections.length)?this.status.projections.filter(t=>!/feed/i.test(t.name)):[]},projections:function(){return this.filteredProjections.map(t=>N(t,this.status.streamPosition)).sort(z)}},methods:{formatName:A,formatProgress:(t={})=>t.percentage>95?`${t.position.toLocaleString("nl-BE")}/${t.streamPosition.toLocaleString("nl-BE")}`:Number.parseFloat(t.percentage).toFixed(2)+"%",refresh:function(){this.$emit("refresh")},stateTooltipDescriptionFor:t=>"active"===t?"Actief":"stopped"===t?"Gepauzeerd":"error"===t?"Fout":"",createItemId:function(t){return`${this.categoryId}_${t}`.replace(/\./g,"-").toLocaleLowerCase()}}},H=G,J=(s("4734"),Object(h["a"])(H,o,l,!1,null,null,null)),U=J.exports,W=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("status-category",{attrs:{title:"Feed","category-id":t.categoryId,"alert-level":t.alertLevel,"show-refresh":!t.isLoading},on:{refreshCategory:t.refresh}},[t.noData?s("vl-column",{attrs:{width:"12"}},[t.isLoading?s("div",{directives:[{name:"vl-align",rawName:"v-vl-align:center",arg:"center"}]},[s("vl-loader",{attrs:{message:"De status van de feed wordt opgevraagd. "}})],1):s("vl-alert",{attrs:{title:"Feed status ophalen is mislukt",content:"Er is iets fout gelopen tijdens het ophalen van de status van de feed. Probeer het later opnieuw.","mod-error":""}})],1):t._e(),t._l(t.feedProjections,(function(e){return s("status-item",{key:e.key,staticClass:"feedprojection",attrs:{"item-id":t.createItemId(e.key),"alert-level":e.alertLevel}},[s("div",{class:"name state tooltip-on-hover "+e.state},[s("tooltip",{attrs:{text:t.stateTooltipDescriptionFor(e.state)}}),t._v(" "+t._s(t.formatName(e.name,e.key))+" ")],1),s("div",{staticClass:"progress --right"},[t._v(t._s(e.progress.isBehind?t.formatProgress(e.progress):"100%"))])])}))],2)},V=[];const K=(t="",e="")=>{if(e&&t!==e)return t;const s=t.split("."),r=s.pop();s.pop();const i=s.pop();return`${i} - ${r}`.replace(/Projections/gi,"").replace(/^ - /,"")},M=(t,e)=>{const s=K(t.name,t.key),r=K(e.name,e.key),i=s.split("-").length>1,n=r.split("-").length>1;return i==n?s.localeCompare(r):i?1:-1};var Q={name:"FeedProjectionStatus",components:{StatusItem:P,StatusCategory:L,Tooltip:f},props:{registeryId:{type:String,required:!0},status:{type:Object,required:!1,default:null},isLoading:{type:Boolean,required:!1,default:!1}},computed:{categoryId:function(){return(this.registeryId+"_feed").toLocaleLowerCase()},noData:function(){return 0===this.filteredProjections.length},alertLevel:function(){return this.noData?"none":B(this.feedProjections)},filteredProjections:function(){return this.status&&this.status.projections&&Number.isInteger(this.status.projections.length)?this.status.projections.filter(t=>/feed/i.test(t.name)):[]},feedProjections:function(){return this.filteredProjections.map(t=>N(t,this.status.streamPosition)).sort(M)}},methods:{formatName:K,formatProgress:(t={})=>t.percentage>95?`${t.position.toLocaleString("nl-BE")}/${t.streamPosition.toLocaleString("nl-BE")}`:Number.parseFloat(t.percentage).toFixed(2)+"%",refresh:function(){this.$emit("refresh")},stateTooltipDescriptionFor:t=>"active"===t?"Actief":"stopped"===t?"Gepauzeerd":"error"===t?"Fout":"",createItemId:function(t){return`${this.categoryId}_${t}`.replace(/\./g,"-").toLocaleLowerCase()}}},X=Q,Y=(s("54c4"),Object(h["a"])(X,W,V,!1,null,null,null)),Z=Y.exports,tt=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("status-category",{attrs:{title:"Cache","category-id":t.categoryId,"alert-level":t.alertLevel,"show-refresh":!t.isLoading},on:{refreshCategory:t.refresh}},[t.noData?s("vl-column",{attrs:{width:"12"}},[t.isLoading?s("div",{directives:[{name:"vl-align",rawName:"v-vl-align:center",arg:"center"}]},[s("vl-loader",{attrs:{message:"De status van de cache wordt opgevraagd."}})],1):s("vl-alert",{attrs:{title:"Cache status ophalen is mislukt",content:"Er is iets fout gelopen tijdens het ophalen van de status van de cache. Probeer het later opnieuw.","mod-error":""}})],1):t._e(),t._l(t.caches,(function(e){return s("status-item",{key:e.name,staticClass:"cache",attrs:{"item-id":t.createItemId(e.name),"alert-level":e.alertLevel}},[s("div",{staticClass:"name state"},[t._v(t._s(e.name))]),e.numberOfRecordsToProcess>0?s("div",{staticClass:"--right"},[t._v("Aantal niet gecachte objecten: "+t._s(e.numberOfRecordsToProcess))]):t._e()])}))],2)},et=[],st={name:"CacheStatus",components:{StatusCategory:L,StatusItem:P},props:{registeryId:{type:String,required:!0},status:{type:Array,required:!1,default:null},isLoading:{type:Boolean,required:!1,default:!1}},computed:{categoryId:function(){return(this.registeryId+"_cache").toLocaleLowerCase()},noData:function(){return!this.status||0==this.status.length},alertLevel:function(){return this.noData?"none":B(this.caches)},caches:function(){return(this.status||[]).map(x)}},methods:{refresh:function(){this.$emit("refresh")},createItemId:function(t){return`${this.categoryId}_${t}`.replace(/\./g,"-").toLocaleLowerCase()}}},rt=st,it=Object(h["a"])(rt,tt,et,!1,null,null,null),nt=it.exports,at=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("status-category",{attrs:{title:"Import","category-id":t.categoryId,"alert-level":t.alertLevel,"show-refresh":!t.isLoading},on:{refreshCategory:t.refresh}},[t.noData?s("vl-column",{attrs:{width:"12"}},[t.isLoading?s("div",{directives:[{name:"vl-align",rawName:"v-vl-align:center",arg:"center"}]},[s("vl-loader",{attrs:{message:"De status van de import wordt opgevraagd."}})],1):s("vl-alert",{attrs:{title:"Import status ophalen is mislukt",content:"Er is iets fout gelopen tijdens het ophalen van de status van de import. Probeer het later opnieuw.","mod-error":""}})],1):t._e(),t._l(t.imports,(function(e){return s("status-item",{key:e.name,staticClass:"import",attrs:{"item-id":t.createItemId(e.name),"alert-level":e.alertLevel}},[s("div",{class:"name state tooltip-on-hover "+e.state},[s("tooltip",{attrs:{text:t.stateTooltipDescriptionFor(e.state)}}),t._v(" "+t._s(t.formatName(e.name))+" ")],1),"active"==e.state?s("div",{staticClass:"period --right"},[t._v(" Wijzigingen van "+t._s(t.formatDate(e.from))+" tot "+t._s(t.formatDate(e.to))+" zijn nu aan het importeren. ")]):s("div",{staticClass:"period --right"},[t._v(" Laatste wijziging: "+t._s(t.formatDate(e.lastCompleted))+" ")])])}))],2)},ot=[],lt={name:"ImportStatus",components:{StatusCategory:L,StatusItem:P,Tooltip:f},props:{registeryId:{type:String,required:!0},status:{type:Array,required:!1,default:null},isLoading:{type:Boolean,required:!1,default:!1}},computed:{categoryId:function(){return(this.registeryId+"_import").toLocaleLowerCase()},noData:function(){return!this.status||0==this.status.length},alertLevel:function(){return this.noData?"none":B(this.imports)},imports:function(){return(this.status||[]).map(q)}},methods:{formatName:(t="")=>{const e=T(t.replace(/^.+\.importer\.?/i,""));return e.length>0?"CRAB import - "+e:"CRAB import"},formatDate:t=>{const e={year:"2-digit",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit"};return t?t.toLocaleString("nl-BE",e):"__/ __/ __ --:--:--"},refresh:function(){this.$emit("refresh")},stateTooltipDescriptionFor:t=>"active"===t?"Actief":"stopped"===t?"Gepland":"",createItemId:function(t){return`${this.categoryId}_${t}`.replace(/\./g,"-").toLocaleLowerCase()}}},ct=lt,ut=(s("c687"),Object(h["a"])(ct,at,ot,!1,null,null,null)),dt=ut.exports,pt=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("status-category",{attrs:{title:"Register synchronisatie","category-id":t.categoryId,"alert-level":t.alertLevel,"show-refresh":!t.isLoading},on:{refreshCategory:t.refresh}},[t.noData?s("vl-column",{attrs:{width:"12"}},[t.isLoading?s("div",{directives:[{name:"vl-align",rawName:"v-vl-align:center",arg:"center"}]},[s("vl-loader",{attrs:{message:"De status van de register synchronisatie wordt opgevraagd. "}})],1):s("vl-alert",{attrs:{title:"Register synchronisatie status ophalen is mislukt",content:"Er is iets fout gelopen tijdens het ophalen van de status van de register synchronisatie. Probeer het later opnieuw.","mod-error":""}})],1):t._e(),t._l(t.syndications,(function(e){return s("status-item",{key:e.name,staticClass:"syndication",attrs:{"item-id":t.createItemId(e.name),"alert-level":e.alertLevel}},[s("div",{staticClass:"name"},[t._v(t._s(t.formatName(e.name)))]),e.progress?s("div",{staticClass:"progress --right"},[t._v(" "+t._s(t.isStillProcessing(e.progress)?t.formatProgress(e.progress):"100%")+" ")]):s("div",{staticClass:"progress vl-alert vl-alert--error --right "},[t._v("Er is iets fout gelopen tijdens het ophalen van de synchronisatie-bron status.")])])}))],2)},ht=[];const gt=(t="")=>T(t),ft=(t,e)=>{const s=gt(t.name),r=gt(e.name);return s.localeCompare(r)};var mt={name:"SyndicationStatus",components:{StatusItem:P,StatusCategory:L},props:{registeryId:{type:String,required:!0},status:{type:Object,required:!1,default:null},streamPositions:{type:Object,required:!1,default:null},isLoading:{type:Boolean,required:!1,default:!1}},computed:{categoryId:function(){return(this.registeryId+"_syndication").toLocaleLowerCase()},noData:function(){return!this.status||!this.status.syndications||0==this.status.syndications.length},alertLevel:function(){return this.noData?"none":B(this.syndications)},syndications:function(){return this.noData?[]:this.status.syndications.map(t=>O(t,this.getStreamPositionFor)).sort(ft)}},methods:{formatName:gt,formatProgress:(t={})=>t.percentage>95?`${t.position.toLocaleString("nl-BE")}/${t.streamPosition.toLocaleString("nl-BE")}`:Number.parseFloat(t.percentage).toFixed(2)+"%",refresh:function(){this.$emit("refresh")},stateTooltipDescriptionFor:t=>"active"===t?"Actief":"stopped"===t?"Gepauzeerd":"error"===t?"Fout":"",getStreamPositionFor:function(t=""){if(!this.streamPositions)return NaN;const e=t.replace(/addresslink$/i,"").replace(/buildingunit/i,"building").replace(/postalinfo/i,"postal");return this.streamPositions[e+"Registry"]||NaN},isStillProcessing:function(t){return t&&t.isBehind&&t.relativePosition<-1},createItemId:function(t){return`${this.categoryId}_${t}`.replace(/\./g,"-").toLocaleLowerCase()}}},vt=mt,yt=(s("01f1"),Object(h["a"])(vt,pt,ht,!1,null,null,null)),_t=yt.exports,wt={name:"RegistryStatus",components:{ProjectionStatus:U,FeedProjectionStatus:Z,CacheStatus:nt,ImportStatus:dt,SyndicationStatus:_t},props:{registeryId:{type:String,required:!0},title:{type:String,required:!0},status:{type:Object,required:!0}},methods:{refresh:function(t){this.$emit("refresh",t||[])}}},Lt=wt,jt=(s("e31b"),Object(h["a"])(Lt,n,a,!1,null,null,null)),bt=jt.exports,Ct=s("bc3a"),It=s.n(Ct),St={name:"StatusOverview",components:{RegistryStatus:bt},data(){return{addressRegistry:{hide:[],isLoading:[],streamPositions:{}},buildingRegistry:{hide:[],isLoading:[],streamPositions:{}},municipalityRegistry:{hide:["syndication"],isLoading:[],streamPositions:{}},parcelRegistry:{hide:[],isLoading:[],streamPositions:{}},postalRegistry:{hide:["import"],isLoading:[],streamPositions:{}},streetNameRegistry:{hide:[],isLoading:[],streamPositions:{}}}},mounted(){this.fetch(["projections","cache","import","syndication"]),this.scrollToHash()},methods:{setStreamPositions:function(){const t={};for(const e in this){const s=this[e]||{};if("object"===typeof s&&"projections"in s){const{streamPosition:r}=s.projections||{};Number.isInteger(r)&&(t[e]=Number(r))}}for(const e in this){const s=this[e]||{};"object"===typeof s&&"streamPositions"in s&&(s.streamPositions=t)}},setStatusFor:function(t,e){for(const s in e){const r=e[s];this[s][t]?this[s][t]=r:this.$set(this[s],t,r)}"projections"===t&&this.setStreamPositions()},beginLoading:function(t){for(const e in this){const s=this[e]||{};"object"===typeof s&&"isLoading"in s&&(s.isLoading.push(t),s[t]&&(s[t]=null))}},loadingStopped:function(t){for(const e in this){const s=this[e]||{};"object"===typeof s&&"isLoading"in s&&(s.isLoading=s.isLoading.filter(e=>e!==t))}},fetchStatus:function(t,e){const s=(window.baseRegistriesApi||"[baseregistries-api-url-not-set]").replace(/\/$/,"")+e;this.beginLoading(t),It.a.get(s).then(({data:e})=>{this.setStatusFor(t,e),this.loadingStopped(t)}).catch(e=>{console.log(`Could not fetch status data from ${s}.`,e),this.loadingStopped(t)})},fetch:function(t=[]){const e={projections:"/v1/status/projection",import:"/v1/status/import",cache:"/v1/status/cache",syndication:"/v1/status/syndication"};for(const s of t)e[s]&&this.fetchStatus(s,e[s])},scrollToHash:function(){this.$nextTick(()=>{if(this.$route.hash){const t=document.querySelector(this.$route.hash);t&&t.scrollIntoView()}})}}},Pt=St,$t=Object(h["a"])(Pt,r,i,!1,null,null,null);e["default"]=$t.exports},a640:function(t,e,s){"use strict";var r=s("d039");t.exports=function(t,e){var s=[][t];return!!s&&r((function(){s.call(null,e||function(){throw 1},1)}))}},ae40:function(t,e,s){var r=s("83ab"),i=s("d039"),n=s("5135"),a=Object.defineProperty,o={},l=function(t){throw t};t.exports=function(t,e){if(n(o,t))return o[t];e||(e={});var s=[][t],c=!!n(e,"ACCESSORS")&&e.ACCESSORS,u=n(e,0)?e[0]:l,d=n(e,1)?e[1]:void 0;return o[t]=!!s&&!i((function(){if(c&&!r)return!0;var t={length:-1};c?a(t,1,{enumerable:!0,get:l}):t[1]=1,s.call(t,u,d)}))}},b8db:function(t,e,s){},c687:function(t,e,s){"use strict";s("902b")},d58f:function(t,e,s){var r=s("1c0b"),i=s("7b0b"),n=s("44ad"),a=s("50c4"),o=function(t){return function(e,s,o,l){r(s);var c=i(e),u=n(c),d=a(c.length),p=t?d-1:0,h=t?-1:1;if(o<2)while(1){if(p in u){l=u[p],p+=h;break}if(p+=h,t?p<0:d<=p)throw TypeError("Reduce of empty array with no initial value")}for(;t?p>=0:d>p;p+=h)p in u&&(l=s(l,u[p],p,c));return l}};t.exports={left:o(!1),right:o(!0)}},e31b:function(t,e,s){"use strict";s("f61f")},f151:function(t,e,s){"use strict";s("70f4")},f1e4:function(t,e,s){"use strict";s("8748")},f61f:function(t,e,s){}}]);
//# sourceMappingURL=status.1dfc786f.js.map